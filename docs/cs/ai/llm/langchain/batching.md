# Batching

## Batching 이란

여러 개의 입력을 한 번에 묶어서 처리하는 기술

장점
- 여러 요청을 한 번에 처리하여 API 호출 횟수 (비용) 감소
- 전체 처리 시간 단축
- 리소스 사용 효율성 증가

단점
- 배치 크기가 너무 크면 메모리 사용량 증가
- API 제공자의 배치 크기 제한 확인 필요
- 에러 발생 시 전체 배치에 영향

```python
from langchain_core.prompts import ChatPromptTemplate
from langchain_openai import ChatOpenAI

chat_template = ChatPromptTemplate.from_template("다음 주제에 대해 설명해주세요: {topic}")
inputs = [
    {"topic": "인공지능"},
    {"topic": "머신러닝"},
    {"topic": "딥러닝"}
]
llm = ChatOpenAI(model_name = "gpt-4",
                 temperature = 0,
                 api_key="")
chain = chat_template | llm
results = chain.batch(inputs)

for result in results:
    print(result.content)
```

```output
인공지능(AI, Artificial Intelligence)은 기계가 인간의 학습 능력, 추론 능력, 지각 능력, 자연어 이해 능력 등을 모방하는 기술을 말합니다. 이는 기계가 인간의 지능을 모방하여 스스로 학습하고, 문제를 해결하고, 복잡한 계산을 수행할 수 있게 하는 기술입니다.
인공지능은 크게 두 가지 유형으로 나눌 수 있습니다. 첫 번째는 약한 인공지능(Weak AI)으로, 특정 작업을 수행하는 데 초점을 맞춘 인공지능입니다. 이는 일반적으로 우리가 일 상 생활에서 사용하는 음성 인식 시스템이나 개인 비서 앱 등에 적용됩니다. 두 번째는 강한 인공지능(Strong AI)으로, 인간의 지능을 완전히 모방하고 이해하는 데 목표를 두고  있습니다. 이는 인간의 사고력, 문제 해결 능력, 감정 이해 등을 모방하려고 합니다.
인공지능은 머신러닝과 딥러닝과 같은 기술을 활용하여 데이터를 학습하고, 패턴을 인식하며, 예측을 만들어냅니다. 이를 통해 인공지능은 추천 시스템, 자동화된 운전, 의료 진단, 금융 거래 등 다양한 분야에서 활용됩니다.
그러나 인공지능의 발전은 도덕적, 윤리적 문제를 수반하기도 합니다. 예를 들어, 인공지능이 인간의 일자리를 대체할 수 있다는 우려, 개인 정보 보호와 관련된 문제, 인공지능의 결정에 대한 투명성과 책임 문제 등이 대표적입니다. 따라서 인공지능의 발전과 함께 이러한 문제들에 대한 해결책을 찾는 것이 중요합니다.
머신러닝은 인공 지능의 한 분야로, 컴퓨터가 학습을 통해 성능을 개선할 수 있도록 하는 알고리즘과 기술을 연구하는 분야입니다. 이는 컴퓨터가 명시적으로 프로그래밍되지 않아도 학습할 수 있게 하는 것을 목표로 합니다.

머신러닝은 크게 지도 학습, 비지도 학습, 강화 학습 등의 카테고리로 나뉩니다. 지도 학습은 입력과 그에 상응하는 출력(정답)을 이용해 모델을 학습시키는 방법이며, 비지도 학 습은 출력 없이 입력 데이터만을 이용해 모델을 학습시키는 방법입니다. 강화 학습은 환경과의 상호작용을 통해 얻은 보상을 기반으로 학습하는 방법입니다.
머신러닝은 다양한 분야에서 활용되고 있습니다. 예를 들어, 스팸 메일 필터링, 음성 인식, 이미지 인식, 자연어 처리, 의료 진단 등에 사용되며, 이러한 분야에서 높은 성능을 보여주고 있습니다. 또한, 머신러닝은 빅 데이터 분석, 예측 모델링, 추천 시스템 등 다양한 분야에서 핵심 기술로 사용되고 있습니다.
딥러닝은 인공지능의 한 분야로, 인간의 뇌가 정보를 처리하고 학습하는 방식을 모방한 인공 신경망을 기반으로 합니다. 이는 기계가 대량의 데이터에서 패턴을 학습하고, 이를 바탕으로 예측, 분류, 의사결정 등의 작업을 수행하게 합니다.

딥러닝은 '깊은' 학습을 의미하는데, 이는 여러 층의 인공 신경망을 통해 복잡한 패턴을 학습한다는 것을 의미합니다. 각 층은 이전 층에서 얻은 정보를 바탕으로 더 복잡한 패턴 을 학습하게 됩니다. 이런 방식으로 딥러닝 모델은 이미지 인식, 음성 인식, 자연어 처리 등 다양한 분야에서 뛰어난 성능을 보여주고 있습니다.
딥러닝은 빅데이터, 컴퓨팅 파워, 알고리즘 발전 등 여러 요소의 발전에 힘입어 급속도로 발전하고 있습니다. 하지만 아직도 학습에 필요한 데이터가 많다거나, 모델의 해석이 어 렵다는 등의 한계도 존재합니다. 그럼에도 불구하고, 딥러닝은 인공지능의 핵심 기술로서 미래 사회의 다양한 분야에서 중요한 역할을 할 것으로 예상됩니다.
```
